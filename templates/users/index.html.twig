{% extends 'baseBack.html.twig' %}
{% block body %}
    <div class="main-panel">
        <div class="content-wrapper">
            <div class="page-header">
                <h3 class="page-title">ADMIN </h3>
            </div>
            <div class="row">
                <div class="col-lg-12 grid-margin stretch-card">
                    <div class="card">
                        <div class="card-body">
                            <div style="display: flex">
                                <div class="col-md-6">
                                    <h4 class="card-title">Utilisateurs</h4>
                                </div>

                                <form method="post" class="forms-sample" style="margin-left: 68px;border-right: 2px solid #666a74;" >
                                    <div class="form-group col-md-4" style="display: flex; width: 100%!important; margin: 0px!important;">
                                        <div class="form-check">
                                            <label class="form-check-label" style="width: 68px;margin-left: -2px;margin-right: 10px;color: black;">
                                                <a  type="radio" class="form-check-input" name="optionsRadios" id="optionsRadios1" value="email" href="{{ path('app_users_sortper')}}"> </a> Personnel </label>
                                        </div>
                                        <div class="form-check">
                                            <label class="form-check-label" style="width: 78px;margin-left: -2px;margin-right: 10px;color: black;">
                                                <a type="radio" class="form-check-input" name="optionsRadios" id="optionsRadios2" value="firstname"href="{{ path('app_users_sortcli')}}"></a> Client </label>
                                        </div>
                                        <a href="{{ path('app_users_index')}}" class="btn btn-success btn-fw"> Reset</a>
                                    </div>
                                </form>
                                <a style="margin-top: 3px;" href="{{ path('app_users_new') }}"><i style="    margin-left: 6px;border: 2px solid #ff6600;border-radius: 50%;zoom: 1.6;padding: 4px;color: #ff6600;padding-bottom: 1px;"class="mdi mdi-note-plus"></i></a>


                            </div>
                            <p class="card-description">
                                seule une personne disposant de privilèges administratifs a accès à cette page</code>
                            </p>
                            <ul class="navbar-nav w-100">
                                <li class="nav-item w-100">
                                    <form name="Search-method" id="Search-method" method="GET" class="forms-sample" style="display: flex">
                                        <div class="form-group col-md-3">
                                            <label style="margin-top: 11px;margin-left: 10px;margin-right: 14px;border-bottom: 6px solid #0090e7;padding-bottom: 7px;border-bottom-style: dotted;">Option de Recherche</label>
                                            <a class="btn btn-outline-success btn-fw" href="{{ path('export')}}">Export</a>
                                        </div>

                                    </form>
                                </li>
                            </ul>



                            <div class="input-group custom-search-form">
                                <input type="text" id="search" class="form-control" placeholder="Search here">
                            </div>

                            <div class="row" id="all">
                                {% include 'users/recherche.html.twig' %}
                            </div>
                            <div class="row" id="search">
                            </div>
                            <br><br><br><br>
                            <script src="{{ asset('assets/js/jquery.js') }}"></script>
                            <script
                                    src="{{ asset('https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js')}}">
                            </script>
                            <script>
                                $( document ).ready(function() {
                                    var currentRequest = null;
                                    $("#search").keyup(function(e){
                                        /* La variable value va prendre la valeur insérer dans le champ de texte
                                        afin d’effectuer la recherche */
                                        var value = $(this).val();
                                        if(currentRequest != null) {
                                            currentRequest.abort();
                                        }
                                        /* Ajax est lancé lors du remplissage du champ texte dont l’id est
                                        « search » pour faire la recherche */
                                        currentRequest = $.ajax({
                                            url : "{{ path('recherche') }}",
                                            type : 'GET',
                                            data: {
                                                'searchValue' : value
                                            },
                                            success : function(retour)
                                            {
                                                $('#all').html(retour);
                                            },
                                        });
                                        return false;
                                    });
                                });
                            </script>


                        </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}


